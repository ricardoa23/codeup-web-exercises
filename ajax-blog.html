<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <title>Document</title>
  </head>
  <body class="bg-dark">
    <h1 class="text-center text-light">Blog about something</h1>
    <div id="posts"></div>
    <script src="./js/jquery-3.6.3.js"></script>
    <script>
       (function() { 
      $.ajax("./data/blog.json").done(function (blog) {
        $("#posts").append(populateBlogPost(blog));
      });

      function populateBlogPost(blogs) {
        let updatedCategories;
        let post = ``;
        for (let i = 0; i < blogs.length; i ++) {
            updatedCategories = blogs[i].categories.join(", ");
            post += `<article class="my-5 mx-3 card border border-dark">
                    <div class= "card-header d-flex justify-content-between align-items-baseline align-content-end bg-primary text-light">
                    <h3 class="my-0">${blogs[i].title}</h3>
                    <div>${blogs[i].date}</div>
                    </div>
                    <div class="bg-primary-subtle px-3">${blogs[i].content}</div>
                    <div class="card-footer fw-bold bg-primary text-light"> ${updatedCategories} </div>
                    </article>
                    `
        }
        return post;
      }
    })();
    </script>
  </body>
</html>
